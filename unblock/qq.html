<!DOCTYPE html>
<html>
  <head>
    <title>Разблокировать сайт в России</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      }
      :root {
        background-image: 
          repeating-linear-gradient(
            90deg,
            #09F911,
            #09F911 100px,
            #029D74 100px,
            #029D74 200px,
            #E35BD8 200px,
            #E35BD8 300px,
            #4156C5 300px,
            #4156C5 400px,
            #635688 400px,
            #635688 500px
          );
      }
      .url-strip {
        font-size: 2em;
        display: flex;
        color: white;
        background: rgba(0,0,0,0.5);
      }      
      .url-input {
        background: transparent;
        border: 0;
        color: inherit;
        outline: none;
        font-size: 1em;        
        width: 100%;
      }
      :root {
        --main-color: hotpink;
      }
      ::-webkit-input-placeholder /* Chrome/Opera/Safari */ { color: var(--main-color); }
      ::-moz-placeholder /* Firefox 19+ */ { color: var(--main-color); }
      :-ms-input-placeholder /* IE 10+ */ { color: var(--main-color); }
      :-moz-placeholder /* Firefox 18- */ { color: var(--main-color); }
      ol {
        padding: 0 1em;
      }
      hr {
        border: solid #aaa;
        border-width: 1px 0 0 0;
      }
      main {
        display: flex;
        flex-wrap: wrap;
      }
      #output div {
        border: 1px solid #ddd;
        margin: 0em 0em 1em 1em;
        padding: 1em;
        padding-bottom: 0;
        background-color: #f5f5f5;
        border-radius: 3px;
      }
      #output div h3 {
        margin-top: 0;
      }
      .prompt {
        white-space: nowrap;
      }
      .short-icon {
        color: pink;
        text-decoration: none;
        vertical-align: top;
      }
    </style>
  </head>
  <body>
  <header>
    <form class="url-form">
      <div class="url-strip">
        <span class="prompt"><a href="" onclick="return false" class="short-icon">§</a>#&nbsp;</span>
        <input type="url" placeholder="пример: http://www.kasparov.ru/subject.php?id=189" value="http://sdf" autofocus="" class="url-input">    
      </div>
      <input type="submit" value="Обновить ссылки">
      <button class="copy-button">Копировать</button>
      <span id="header-output"><input type="url" readonly="" size="38" onclick="this.select()" value="https://rebrand.ly/unblock/#http://sdf"></span>
      <code>[COPY] — нужно будет ввести адрес</code>
    </form>
  </header>
  <main id="output">
 
  <div>
  <h3>Веб-прокси</h3>
  <ol>
    <li><a href="https://www.hidemyass.com/proxy">Hide my ass [COPY]</a></li>
    <li><a href="https://hidester.com/proxy/">Hidester [COPY]</a></li>
    <li><a href="https://proxy-nl.hide.me/go.php?u=http://sdf">hide.me [RELOAD, GLYPE]</a></li>
    <li><a href="http://anonymouse.org/cgi-bin/anon-www.cgi/http://sdf">AnonyMouse [HTTP]</a></li>
    <li><a href="https://webproxy.vpnbook.com/browse.php?u=http://sdf">vpnbook [RELOAD, GLYPE]</a></li>
    <li><a href="https://webproxy.com/browse.php?u=http://sdf">webproxy.com [RELOAD, GLYPE]</a></li>
    <li><a href="https://unblock-pinterestproxy.com/browse.php?u=http://sdf">Unblock Pinterest Proxy [RELOAD, GLYPE]</a></li>
    <li><a href="http://www.mysafesurfing.com/browse.php?u=http://sdf">My Safe Surfing [RELOAD, HTTP, GLYPE]</a></li>
    <li><a href="https://kproxy.com">kProxy [BLOCKED]</a></li>
    <li><a href="https://www.google.com/search?q=webproxy">Другие</a></li>
  </ol>
  </div>

  <div>
  <h3>Сервисы Google</h3>
  <ol>
    <li><a href="https://translate.google.com/translate?hl=&amp;sl=en&amp;tl=ru&amp;anno=2&amp;sandbox=1&amp;u=http://sdf">Google Translate</a></li>
    <li><a href="http://www.google.ie/gwt/x?u=http://sdf">Google Mobile</a></li>
  </ol>
  </div>

  <div>
    <h3>Из кэша поисковиков</h3>
    <ol>
      <li><a href="http://webcache.googleusercontent.com/search?q=cache:http://sdf">Google</a></li>
      <li><a href="https://www.bing.com/search?q=url:http://sdf">Bing</a></li>
      <li><a href="https://yandex.ru/search/?text=site:http://sdf">Yandex</a></li>
      <li><a href="https://search.yahoo.com/search?p=url:http://sdf">Yahoo</a></li>
      <li><a href="http://viewcached.com/http://sdf">viewcached.com</a></li>
      <li><a href="http://cachedview.com">cachedview.com [COPY]</a></li>
    </ol>
  </div>

  <div>
  <h3>Из архивов Интернета</h3>
  <ol>
    <li><a href="http://web.archive.org/web/*/http://sdf">web.archive.org</a></li>
    <li><a href="http://archive.is/http://sdf">archive.is</a></li>
    <li><a href="http://timetravel.mementoweb.org">Momento Time Travel [COPY]</a></li>
    <li><a href="http://webcitation.org/query.php?url=http://sdf">Web Citation</a></li>
  </ol>
  </div>

  <div>
  <h3>Снимки страниц</h3>
  <ol>
    <li><a href="https://screenshotmachine.com">Screenshot Machine [COPY]</a></li>
    <li><a href="https://www.url2png.com">url2png [COPY]</a></li>
    <li><a href="http://site2pic.com/">site2pic [COPY]</a></li>
    <li><a href="https://browshot.com">brow shot [COPY]</a></li>
  </ol>
  </div>

  <div>
  <h3>Расширения браузера</h3>
  <ol>
    <li><a href="https://chrome.google.com/webstore/detail/pfmgfdlgomnbgkofeojodiodmgpgmkac">Chrome: Экономия трафика Google [только HTTP]</a></li>
    <li>
      <a href="https://fri-gate.org">FriGate</a>
      | <a href="https://chrome.google.com/webstore/detail/mbacbcfdfaapbcnlnbmciiaakomhkbkb">WebStore</a>
      | <a href="https://addons.mozilla.org/en-US/firefox/addon/frigate/">FireFox</a>
      | <a href="https://fri-gate.org/frigate.nex">Opera</a>
    </li>
    <li><a href="https://chrome.google.com/webstore/detail/npgcnondjocldhldegnakemclmfkngch">Chrome: Обход блокировок Рунета</a></li>
    <li>
      <a href="https://tunnello.com">Tunnelo [BLOCKED]</a>
      | <a href="https://chrome.google.com/webstore/detail/hoapmlpnmpaehilehggglehfdlnoegck">WebStore</a>
    </li>
    <li>
      <a href="http://northghost.com">Touch VPN</a>
      | <a href="https://chrome.google.com/webstore/detail/bihmplhobchoageeokmgbdihknkjbknd">WebStore</a>
    </li>
    <li>
      <a href="https://hidester.com/proxy/">Hidester</a>
      | <a href="https://chrome.google.com/webstore/detail/dpkpacmindnbflfmbigkenceicnpjmhh">WebStore</a>
    </li>
    <li>
      <a href="https://kproxy.com">KProxy [BLOCKED]</a>
      | <a href="https://chrome.google.com/webstore/detail/gdocgbfmddcfnlnpmnghmjicjognhonm">WebStore</a>
      | <a href="https://addons.mozilla.org/en-US/firefox/addon/kproxy-extension/">FireFox</a>
    </li>
    <li>
      <a href="https://anticenz.org">AntiCenz</a>
      | <a href="https://addons.mozilla.org/en-US/firefox/addon/anticenz/">FireFox</a>
    </li>
    <li><a href="https://www.opera.com/ru/computer/features/free-vpn">Opera VPN</a></li>
    <li><a href="https://chrome.google.com/webstore/detail/dfdhngcahhplaibahkkjhdklhihbaikl">Chrome: Kronymous (Tor)</a></li>
  </ol>
  </div>

  <div>
  <h3>VPN, PAC, Tor</h3>
  <ol>
    <li><a href="https://antizapret.prostovpn.org">АнтиЗапрет VPN + PAC + Chrome</a></li>
    <li><a href="https://anticenz.org">АнтиЦенз PAC + FireFox</a></li>
    <li><a href="https://torproject.org">Tor</a></li>
    <li><a href="https://cyberghostvpn.com">CyberGhost VPN</a></li>
  </ol>
  </div>

  <div>
  <h3>Инструменты</h3>
  Сайт доступен из-за границы?
  <ol>
    <li><a href="http://isup.me/http://sdf">IsUp.me</a></li>
    <li><a href="
      data:text/html;charset=utf8,<title>Запрашиваю...</title>
      <form class='tracker-form' method='POST' action='https://www.host-tracker.com/ru/InstantCheck/Create'>
      <input name='InstantCheckUrl' value='http://sdf' type='hidden'>
      </form>
      <script>document.querySelector('.tracker-form').submit()</script>
    ">host-tracker.com</a>
    </li>
    <li><a href="http://www.isitdownrightnow.com/sdf.html">IsItDownRightNow.com</a></li>
  </ol>
  Искать сайт в реестре
  <ol>
    <li><a href="https://antizapret.info/index.php?search=http://sdf">AnitZapret.info</a></li>
    <li><a href="https://reestr.rublacklist.net/search/?q=sdf">RuBlackList.net</a></li>
  </ol>
  </div>
</main>


<script type="text/javascript">
'use strict';

const defaultUrl = 'http://www.kasparov.ru/subject.php?id=189';
const getHash = () => decodeURIComponent(window.location.hash.substring(1));
const url = getHash();

document.body.innerHTML = `
  <header>
    <form class="url-form">
      <div class="url-strip">
        <span class="prompt"><a href="" onclick="return false" class="short-icon">§</a>#&nbsp;</span>
        <input type="url" placeholder="пример: ${defaultUrl}" value="${url}" autofocus
          class="url-input"
        />
      </div>
      <input type="submit" value="Обновить ссылки"/>
      <button class="copy-button">Копировать</button>
      <code>[COPY] — нужно будет ввести адрес</code>
    </form>
  </header>
  <main id="output"></main>
`;

const renderLinks = (url) => {

  const hostname = new URL(url).hostname;
  const shortUrl = 'https://rebrand.ly/unblock/' + location.hash;
  return `
    <div>
    <h3>Веб-прокси</h3>
    <ol>
      <li><a href="https://www.hidemyass.com/proxy">Hide my ass [COPY]</a></li>
      <li><a href="https://hidester.com/proxy/">Hidester [COPY]</a></li>
      <li><a href="https://proxy-nl.hide.me/go.php?u=${url}">hide.me [RELOAD, GLYPE]</a></li>
      <li><a href="http://anonymouse.org/cgi-bin/anon-www.cgi/${url}">AnonyMouse [HTTP]</a></li>
      <li><a href="https://webproxy.vpnbook.com/browse.php?u=${url}">vpnbook [RELOAD, GLYPE]</a></li>
      <li><a href="https://webproxy.com/browse.php?u=${url}">webproxy.com [RELOAD, GLYPE]</a></li>
      <li><a href="https://unblock-pinterestproxy.com/browse.php?u=${url}">Unblock Pinterest Proxy [RELOAD, GLYPE]</a></li>
      <li><a href="http://www.mysafesurfing.com/browse.php?u=${url}">My Safe Surfing [RELOAD, HTTP, GLYPE]</a></li>
      <li><a href="https://kproxy.com">kProxy [BLOCKED]</a></li>
      <li><a href="https://www.google.com/search?q=webproxy">Другие</a></li>
    </ol>
    </div>

    <div>
    <h3>Сервисы Google</h3>
    <ol>
      <li><a href="https://translate.google.com/translate?hl=&sl=en&tl=ru&anno=2&sandbox=1&u=${url}">Google Translate</a></li>
      <li><a href="http://www.google.ie/gwt/x?u=${url}">Google Mobile</a></li>
    </ol>
    </div>

    <div>
      <h3>Из кэша поисковиков</h3>
      <ol>
        <li><a href="http://webcache.googleusercontent.com/search?q=cache:${url}">Google</a></li>
        <li><a href="https://www.bing.com/search?q=url:${url}">Bing</a></li>
        <li><a href="https://yandex.ru/search/?text=site:${url}">Yandex</a></li>
        <li><a href="https://search.yahoo.com/search?p=url:${url}">Yahoo</a></li>
        <li><a href="http://viewcached.com/${url}">viewcached.com</a></li>
        <li><a href="http://cachedview.com">cachedview.com [COPY]</a></li>
      </ol>
    </div>

    <div>
    <h3>Из архивов Интернета</h3>
    <ol>
      <li><a href="http://web.archive.org/web/*/${url}">web.archive.org</a></li>
      <li><a href="http://archive.is/${url}">archive.is</a></li>
      <li><a href="http://timetravel.mementoweb.org">Momento Time Travel [COPY]</a></li>
      <li><a href="http://webcitation.org/query.php?url=${url}">Web Citation</a></li>
    </ol>
    </div>

    <div>
    <h3>Снимки страниц</h3>
    <ol>
      <li><a href="https://screenshotmachine.com">Screenshot Machine [COPY]</a></li>
      <li><a href="https://www.url2png.com">url2png [COPY]</a></li>
      <li><a href="http://site2pic.com/">site2pic [COPY]</a></li>
      <li><a href="https://browshot.com">brow shot [COPY]</a></li>
    </ol>
    </div>

    <div>
    <h3>Расширения браузера</h3>
    <ol>
      <li><a href="https://chrome.google.com/webstore/detail/pfmgfdlgomnbgkofeojodiodmgpgmkac">Chrome: Экономия трафика Google [только HTTP]</a></li>
      <li>
        <a href="https://fri-gate.org">FriGate</a>
        | <a href="https://chrome.google.com/webstore/detail/mbacbcfdfaapbcnlnbmciiaakomhkbkb">WebStore</a>
        | <a href="https://addons.mozilla.org/en-US/firefox/addon/frigate/">FireFox</a>
        | <a href="https://fri-gate.org/frigate.nex">Opera</a>
      </li>
      <li><a href="https://chrome.google.com/webstore/detail/npgcnondjocldhldegnakemclmfkngch">Chrome: Обход блокировок Рунета</a></li>
      <li>
        <a href="https://tunnello.com">Tunnelo [BLOCKED]</a>
        | <a href="https://chrome.google.com/webstore/detail/hoapmlpnmpaehilehggglehfdlnoegck">WebStore</a>
      </li>
      <li>
        <a href="http://northghost.com">Touch VPN</a>
        | <a href="https://chrome.google.com/webstore/detail/bihmplhobchoageeokmgbdihknkjbknd">WebStore</a>
      </li>
      <li>
        <a href="https://hidester.com/proxy/">Hidester</a>
        | <a href="https://chrome.google.com/webstore/detail/dpkpacmindnbflfmbigkenceicnpjmhh">WebStore</a>
      </li>
      <li>
        <a href="https://kproxy.com">KProxy [BLOCKED]</a>
        | <a href="https://chrome.google.com/webstore/detail/gdocgbfmddcfnlnpmnghmjicjognhonm">WebStore</a>
        | <a href="https://addons.mozilla.org/en-US/firefox/addon/kproxy-extension/">FireFox</a>
      </li>
      <li>
        <a href="https://anticenz.org">AntiCenz</a>
        | <a href="https://addons.mozilla.org/en-US/firefox/addon/anticenz/">FireFox</a>
      </li>
      <li><a href="https://www.opera.com/ru/computer/features/free-vpn">Opera VPN</a></li>
      <li><a href="https://chrome.google.com/webstore/detail/dfdhngcahhplaibahkkjhdklhihbaikl">Chrome: Kronymous (Tor)</a></li>
    </ol>
    </div>

    <div>
    <h3>VPN, PAC, Tor</h3>
    <ol>
      <li><a href="https://antizapret.prostovpn.org">АнтиЗапрет VPN + PAC + Chrome</a></li>
      <li><a href="https://anticenz.org">АнтиЦенз PAC + FireFox</a></li>
      <li><a href="https://torproject.org">Tor</a></li>
      <li><a href="https://cyberghostvpn.com">CyberGhost VPN</a></li>
    </ol>
    </div>

    <div>
    <h3>Инструменты</h3>
    Сайт доступен из-за границы?
    <ol>
      <li><a href="http://isup.me/${url}">IsUp.me</a></li>
      <li><a href="
        data:text/html;charset=utf8,<title>Запрашиваю...</title>
        <form class='tracker-form' method='POST' action='https://www.host-tracker.com/ru/InstantCheck/Create'>
        <input name='InstantCheckUrl' value='${url}' type='hidden'>
        </form>
        <script>document.querySelector('.tracker-form').submit()<\/script>
      ">host-tracker.com</a>
      </li>
      <li><a href="http://www.isitdownrightnow.com/${hostname}.html">IsItDownRightNow.com</a></li>
    </ol>
    Искать сайт в реестре
    <ol>
      <li><a href="https://antizapret.info/index.php?search=${url}">AnitZapret.info</a></li>
      <li><a href="https://reestr.rublacklist.net/search/?q=${hostname}">RuBlackList.net</a></li>
    </ol>
    </div>
`};

const renderOutput = () => {

  console.log('RENDER');
  const url = getHash() || defaultUrl;
  document.querySelector('.prompt').innerHTML = renderPrompt( url );
  document.getElementById('output').innerHTML = renderLinks( url );

};

const urlInput = document.querySelector('input.url-input');

const submitUrl = () => {

  console.log('check');
  if( urlInput.checkValidity() ) {
    console.log('VALIDDDD');
    urlInput.form.onsubmit();
  }

};

urlInput.form.onsubmit = function () {

  console.log('SUBMIT');
  const newHash = urlInput.value.trim();
  if( getHash() === newHash ) {
    renderOutput();
  }
  else {
    window.location.hash = newHash;
  }
  return false;

};

urlInput.oninvalid = () => {

  console.log('INVALID');
  if(/^https?:\/\//.test(event.target.value)) {
    return true;
  }
  window.location.hash = '#' + 'http://' + urlInput.value;
  return false;

};

window.onhashchange = () => {

  console.log('HASHY');
  urlInput.value = getHash();
  submitUrl();

}

console.log('URL', url);
if(url) {
  submitUrl();
}
else {
  renderOutput();
}

urlInput.onfocus = function() { this.select() };
document.querySelector('button.copy-button').onclick = () => { urlInput.focus(); document.execCommand('copy') };    
</script>
  </body>
</html>
